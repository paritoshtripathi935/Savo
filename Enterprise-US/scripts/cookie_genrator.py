# Cookies for enterprise-us
# _cs_mk=0.05535408080938886_1666090539074; 
# ak_bmsc=2EB6774AFBE045AD7A4EADFA5080F80E~000000000000000000000000000000~YAAQlLxWaJ4LT+aDAQAAzi686hHbtJnuhC6AK7NKzzkqB18yZGa2Usq/6S1KYe1fiZS+kOdHG6EI1tZIdWwg1rqrJV5kdMNs/cdPV/VkjT+29LdI1os08NveG7gjBQXbyxE5eOwwTDFI6zEcrLW7TzZqVE3gZsgdqlsb7LqZ7+686M3XlEhiSOMKRSr8FDhiv/DMQWdZgZtvlSnhfvTzQEIDjiRrTxkpGFqpxXDn8OxueLt4FmWoE0BbnqmDQtMAYQoT7FopAKh0M/uhlSJLPIrwwXtwgqji5BYx2bwgre32qLe0lDkFLc/xzP7RALDq6LZtHKrbBVv0b6/HH3zwUcELMO2uGNNjFu7jUwdymNyJ0jQCs5B+tvkXne0h24obqz2SFi/Z7vm9P+NCpv2XFO/u8s0eNRfwS/5TdvFBbm9kMJz8j3WpWjpR3/ZGExKhJPbvNfwOCBESB1yHkSQFUKeMusynTdsUTwpoZl/Zztr79DDn4o3AzNADNC8CBFE=; 
# at_check=true; 
# s_ecid=MCMID%7C40283505539795236569037949592543695545; 
# AMCVS_30545A0C536B768C0A490D44%40AdobeOrg=1; 
# s_cc=true; 
# visid_incap_1271375=a9eb4ZKqRfqNXWmmIb3aLoyGTmMAAAAAQUIPAAAAAABtT2/iWvJjq/YvUlp3q9c3; 
# SESSION=NWZhODFlNmMtMGJlZC00ZTJiLTk1OTUtMjIwOTdhMTMxYjEx; 
# nlbi_1271375=asCsAsFm4ntxxXkm9V/w9gAAAADpwz5KRjtJrHQC6Vu7GJ91; 
# incap_ses_9218_1271375=W6XpdWpMGGgUmlW0uersf46GTmMAAAAAf4vfLkrm0emoq5SuuzKWpg==; 
# bm_sv=07DADDF22E2D4BCA6A4C9BC4138F7784~YAAQpbxWaKFHY+eDAQAAIlDU6hHL/LQhDN4EiAEJ6Q+fSTolpPIOw0Mn89WbKhcdyF8mYjn9+pjsnFjhVVRjECsvMNC8m9S4mSTWS3G+y87hJlWPqWPu1s8aRv8fECPPIayfISXpo5/6RwWSS+xGmKq4PRlKUJn6IvAUeLZ7fNkM9CX1pATeqSYuFtwRdbnvdB+6FaH0oBSgK5FsafuO9I1oytVsG4dvGS7GCTmORnqUD6cLXxgXPH0Muz2xx/XldVOzXQ==~1; 
# s_tps=12; 
# s_pvs=16; 
# OptanonConsent=isIABGlobal=false&datestamp=Tue+Oct+18+2022+16%3A52%3A16+GMT%2B0530+(India+Standard+Time)&version=6.39.0&consentId=332710a2-60ea-427f-b978-fb7192d469cb&interactionCount=1&landingPath=NotLandingPage&groups=C0001%3A1%2CC0003%3A1%2CC0004%3A1&hosts=H1%3A1%2CH31%3A1%2CH324%3A1%2CH32%3A1%2CH48%3A1%2CH43%3A1%2CH14%3A1%2CH233%3A1%2CH19%3A1%2CH10%3A1%2CH2%3A1%2CH24%3A1%2CH25%3A1%2CH26%3A1%2CH46%3A1%2CH5%3A1%2CH229%3A1%2CH297%3A1%2CH27%3A1%2CH8%3A1%2CH299%3A1%2CH230%3A1%2CH28%3A1%2CH47%3A1%2CH300%3A1%2CH13%3A1%2CH38%3A1%2CH29%3A1%2CH15%3A1%2CH16%3A1%2CH17%3A1&genVendors=V11%3A1%2CV4%3A1%2CV33%3A1%2CV60%3A0%2CV22%3A1%2CV5%3A1%2CV14%3A1%2CV37%3A1%2CV41%3A1%2CV43%3A1%2CV3%3A1%2CV35%3A1%2CV25%3A1%2CV21%3A1%2CV20%3A1%2CV59%3A1%2CV40%3A1%2CV16%3A1%2CV26%3A1%2CV34%3A1%2CV9%3A1%2CV27%3A1%2CV39%3A1%2CV31%3A1%2CV24%3A1%2CV46%3A1%2CV45%3A1%2CV36%3A1%2CV58%3A1%2CV55%3A1%2CV28%3A1%2CV10%3A1%2CV50%3A1%2CV49%3A1%2CV13%3A1%2CV17%3A1%2CV7%3A1%2CV52%3A1%2CV30%3A1%2CV47%3A1%2CV48%3A1%2CV12%3A1%2CV18%3A1%2CV19%3A1%2CV15%3A1%2CV29%3A1%2CV56%3A1%2CV42%3A1%2CV38%3A1%2CV51%3A1%2CV8%3A1%2CV32%3A1%2CV57%3A1%2CV44%3A1%2CV53%3A1%2CV54%3A1%2CV23%3A1%2CV6%3A1%2C&AwaitingReconsent=false&geolocation=IN%3BBR; OptanonAlertBoxClosed=2022-10-18T11:22:16.205Z; mbox=session#57fec984f6d94ec29037ff4e20dd46bd#1666093999|PC#57fec984f6d94ec29037ff4e20dd46bd.31_0#1729336939; s_pers=%20s_vs%3D1%7C1666093938959%3B%20gpv_v5%3D%252Fen%252Freserve.html%7C1666093938989%3B%20s_visit%3D1%7C1666093938995%3B; s_sess=%20SC_LINKS%3D%3B%20s_ppvl%3D%252Fen%252Fhome.html%252C18%252C18%252C845%252C1366%252C626%252C1366%252C768%252C1%252CL%3B%20s_ppv%3D%252Fen%252Freserve.html%252C39%252C0%252C0%252C1366%252C626%252C1366%252C768%252C1%252CL%3B%20s_ptc%3D%3B; 
# s_sq=%5B%5BB%5D%5D; 
# AMCV_30545A0C536B768C0A490D44%40AdobeOrg=1176715910%7CMCIDTS%7C19284%7CMCMID%7C40283505539795236569037949592543695545%7CMCAID%7CNONE%7CMCOPTOUT-1666099339s%7CNONE%7CvVersion%7C5.4.0

# cookies generated till now 
#incap_ses_712_1271375=cZtiWPr9umnsdMmS0ZzhCeIUWmMAAAAAvL3tV8gytSw9wloyMZSRtw== 
#nlbi_1271375=eiqzf4f0WSe6dp7a9V/w9gAAAACUOWyEYNrDJmeZsr+SrJDR
#visid_incap_1271375=uVa/TjnHRO+DhrCervHxluIUWmMAAAAAQUIPAAAAAAA8NJU/69N1wTW1xw9jh+jV
#SESSION=YTA5NWFlY2MtNTBkYS00ZjA3LTk3ZjQtY2RiYzc0ZDI3Nzcw

import requests


response = requests.get('https://prd-west.webapi.enterprise.com/enterprise-ewt/enterprise/reservations/vehicles/availability')
api = 'https://prd-west.webapi.enterprise.com/enterprise-ewt/enterprise/reservations/vehicles/availability'
cookie = response.cookies
cookie_dict = requests.utils.dict_from_cookiejar(cookie)
cookie_str = '; '.join([str(x) + '=' + str(y) for x, y in cookie_dict.items()])

headers = {
    "authority": "prd-west.webapi.enterprise.com",
    "method": "GET",
    "path": "/enterprise-ewt/enterprise/reservations/vehicles/availability",
    "scheme": "https",
    "accept": "application/json, text/plain, */*",
    "accept-encoding": "gzip, deflate, br",
    "accept-language": "en-US,en;q=0.8",
    "brand": "enterprise",
    "channel": "web",
    "cookie": cookie_str,
    "domain_country_of_residence": "US",
    "origin": "https://www.enterprise.com",
    "referer": "https://www.enterprise.com/",
    "sec-fetch-dest": "empty",
    "sec-fetch-mode": "cors",
    "sec-fetch-site": "same-site",
    "sec-gpc": "1",
    "tab_id": "1666090538837_1",
    "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36"
}

# pass the cookie to the next request
response = requests.get(api, headers=headers)
print(response.text)